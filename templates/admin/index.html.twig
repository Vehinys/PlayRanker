{% extends 'base.html.twig' %}

{% block title %}Admin{% endblock %}

{% block body %}

<div>
    <section>
        
        <div class="container-add-category">
            <h2>Add category :</h2>
            <a href="{{ path('platform.add') }}">
                <button class="button-add-category">ADD</button>
            </a>
        </div>

        <div class="container-edit-category">
            <table>
                <tbody>
                    {% for category in categories %}
                        <tr>
                            <td>{{ category.name }}</td>
                            <td>
                                <div class="container-all-category">
                                    <!-- Lien d'édition -->
                                    
                                    <a href="{{ path('platform.edit', {'categoryId': category.id}) }}">
                                        <img src="img/editer.png" alt="Edit" width="30px">
                                    </a>
        
                                    <!-- Formulaire pour suppression -->
                                    <form action="{{ path('platform.delete', {'categoryId': category.id}) }}" method="post" style="display:inline;" onsubmit="return confirm('Are you sure you want to delete this category?');">
                                        <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ category.id) }}">
                                        <button type="submit" style="border:none; background:none;">
                                            <img src="img/supprimer.png" alt="Delete" width="30px">
                                        </button>
                                    </form>
                                </div>
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </section>

    <section>
        <div class="container-add-category">
            <h2>Add subcategory :</h2>
            <a href="{{ path('subcategory.add') }}">
                <button class="button-add-category">ADD</button>
            </a>
        </div>

        <div class="container-edit-category">
            <table>
                <tbody>
                    {% for subcategory in subcategory %}
                        <tr>
                            <td>{{ subcategory.name }}</td>
                            <td>
                                <div class="container-all-category">
                                    <!-- Lien d'édition -->
                                    
                                    <a href="{{ path('subcategory.edit', {'subcategoryId': subcategory.id}) }}">
                                        <img src="img/editer.png" alt="Edit" width="30px">
                                    </a>
        
                                    <!-- Formulaire pour suppression -->
                                    <form action="{{ path('subcategory.delete', {'subcategoryId': subcategory.id}) }}" method="post" style="display:inline;" onsubmit="return confirm('Are you sure you want to delete this subcategory?');">
                                        <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ subcategory.id) }}">
                                        <button type="submit" style="border:none; background:none;">
                                            <img src="img/supprimer.png" alt="Delete" width="30px">
                                        </button>
                                    </form>
                                </div>
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </section>

</div>


{% endblock %}
